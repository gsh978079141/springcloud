# For advice on how to change settings please see
# http://dev.mysql.com/doc/refman/5.7/en/server-configuration-defaults.html

[mysqld]
#
# Remove leading # to turn on a very important data integrity option: logging
# changes to the binary log between backups.
# log_bin
#
# Remove leading # to set options mainly useful for reporting servers.
# The server defaults are faster for transactions and fast SELECTs.
# Adjust sizes as needed, experiment to find the optimal values.
# join_buffer_size = 128M
# sort_buffer_size = 2M
# read_rnd_buffer_size = 2M
port=3306

datadir=/opt/mysql_data/data/
tmpdir=/opt/mysql_data/tmp
socket=/var/lib/mysql/mysql.sock

# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links=0

# 不需要密码策略，禁用密码策略
validate_password = off

# 字符编码设置为utf8
character_set_server = utf8mb4
init_connect = 'SET NAMES utf8'

#time_zone设置
default-time-zone='+8:00'

log-error=/opt/mysql_data/logs/error.log
slow_query_log_file=/opt/mysql_data/logs/slow.log
general_log_file=/opt/mysql_data/logs/general.log

pid-file=/var/run/mysqld/mysqld.pid

#binlog配置
log_bin=/opt/mysql_data/binlog/mysql-bin
server_id=1
binlog_cache_size=32K
max_binlog_cache_size=2G
max_binlog_size=500M
max_relay_log_size=500M
relay_log_purge=OFF
binlog-format=ROW
sync_binlog=1
sync_relay_log=10000


#server
lower_case_table_names=1